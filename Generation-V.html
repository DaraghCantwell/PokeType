<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="Generation 5 Pokémon">
	<title>PokéType</title>
	<link rel="stylesheet" href="Gen.css">
</head>

<body>
	<header>
		<h1>Welcome to the PokéType!</h1>
		<p>This is the number one place to find pokémon by Type and Generation!</p>
	</header>

	<nav class="navbar">
		<ul>
			<li><a href="index.html">Home</a></li>
			<li><a href="Pokémon.html">Pokémon</a></li>
			<li><a href="Generations.html">Generations</a></li>
		</ul>
	</nav>

	<div class="search-container">
        <input type="text" id="search-bar" placeholder="Search Pokémon by name..." />
    </div>

	<main>
		<p>Welcome to the best place to find Pokémon by their generation!</p>

		<section>
			<h2>Generation 5 Pokémon</h2>
			<div id="pokemon-list"></div>
		</section>
	</main>

	<footer>
		<p>© 2024 Pokémon Fan Site. All rights reserved.</p>
	</footer>

	<script>
		async function fetchPokemon() {
			const generation5Pokemon = [];
			const url = 'https://pokeapi.co/api/v2/generation/5/';
			const response = await fetch(url);
			const data = await response.json();

			
			for (let i = 0; i < data.pokemon_species.length; i++) {
				const species = data.pokemon_species[i];
				try {
					const pokemonData = await fetch(`https://pokeapi.co/api/v2/pokemon/${species.name}`);
					const pokemonDetails = await pokemonData.json();
					generation5Pokemon.push({
						id: pokemonDetails.id,
						name: species.name,
						imageUrl: `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemonDetails.id}.png`,
					});
				} catch (error) {
					console.error(`Failed to fetch details for Pokémon: ${species.name}`, error);
				}
			}

			
			generation5Pokemon.sort((a, b) => a.id - b.id);

			
			displayPokemon(generation5Pokemon);

			
			const searchBar = document.getElementById('search-bar');
			searchBar.addEventListener('input', () => {
				const searchTerm = searchBar.value.toLowerCase();
				const filteredPokemon = generation5Pokemon.filter(pokemon => 
					pokemon.name.toLowerCase().includes(searchTerm)
				);
				displayPokemon(filteredPokemon);
			});
		}

		function displayPokemon(pokemonList) {
			const pokemonListElement = document.getElementById('pokemon-list');
			pokemonListElement.innerHTML = '';
			pokemonList.forEach(pokemon => {
				const pokemonElement = document.createElement('div');
				pokemonElement.classList.add('pokemon');
				pokemonElement.innerHTML = `
					<img src="${pokemon.imageUrl}" alt="${pokemon.name}" />
					<h3>#${pokemon.id} ${pokemon.name.charAt(0).toUpperCase() + pokemon.name.slice(1)}</h3>
				`;
				pokemonListElement.appendChild(pokemonElement);
			});
		}

		
		fetchPokemon();
	</script>
</body>
</html>
